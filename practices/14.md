# Claude Code 使用Openrouter服务
> 参考：https://openrouter.ai/docs/guides/guides/claude-code-integration
## 1、安装Claude Code
Mac
```shell
curl -fsSL https://claude.ai/install.sh | bash
```

Windows
```shell
irm https://claude.ai/install.ps1 | iex
```

## 2、命令行中，使用openrouter服务
在~/.zshrc文件中，写入：
```env
export ANTHROPIC_BASE_URL="https://openrouter.ai/api"
export ANTHROPIC_AUTH_TOKEN="$OPENROUTER_API_KEY"
export ANTHROPIC_API_KEY="" # 必须为空
```
> 注意：$OPENROUTER_API_KEY 需要到`openrouter.ai`中获取并替换

## 3、VSCode的Claude Code插件中，使用openrouter服务
### 3.1、创建配置
```shell
cat <<EOF | sudo tee ~/.claude/config.json
{
    "primaryApiKey":"openrouter"
}
EOF
```
### 3.2、插件设置
> 找到`Claude Code for VS Code`插件，点小齿轮，选择：设置。
![alt text](images/14-1.png)

> 找到`在setting.json`中编辑
![alt text](images/14-2.png)

> 在`在setting.json`编辑：
```json
    "claudeCode.environmentVariables": [
        {
            "name": "ANTHROPIC_BASE_URL",
            "value": "https://openrouter.ai/api"
        },
        {
            "name": "ANTHROPIC_AUTH_TOKEN",
            "value": "$OPENROUTER_API_KEY"
        },
        {
            "name": "ANTHROPIC_API_KEY",
            "value": ""
        }
    ]
```
> 注意：$OPENROUTER_API_KEY 需要到`openrouter.ai`中获取并替换

## 4、superpowers插件
地址：https://github.com/obra/superpowers

在claude code命令行下执行：
```shell
/plugin marketplace add obra/superpowers-marketplace
/plugin install superpowers@superpowers-marketplace
/help
```